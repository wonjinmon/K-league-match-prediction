# 데이터 사이언스 응용 프로젝트

## K-league 데이터를 사용해 승부 예측을 하고자 함

- https://data.kleague.com : 경기별 팀기록을 웹 크롤링하여 데이터를 얻음.

    -> 홈/원정, 유효슈팅, 코너킥 수, 프리킥 수, 패스 수 등의 데이터 수집.

    -> 2021, 2022, 2023(35라운드까지) 시즌의 데이터 수집


----


- https://www.transfermarkt.com/k-league-1/startseite/wettbewerb/RSK1 : 
구단 별 기록을 웹 크롤링 하여 데이터를 얻음

    -> 선수 수, 평균 나이, 용병 수, 구단 가치 등의 데이터 수집.

    -> 2021, 2022, 2023(35라운드까지) 시즌의 데이터 수집


### 11개의 모델을 사용하여 변수선택법 적용 전/후 정확도의 차이를 확인해보고자 함.

<p>
<details>
<summary> 데이터 상세 설명 </summary>

--- 기본 ---

· Rnd. : 라운드

· 대회 : 매치

· H/A : 홈/어웨이
 
--- 공격 ---

· 득점 : 상대 골대에 공을 넣어 점수를 얻는 것

· 도움 : 득점을 도운 기록

· 슈팅 : 슈팅

· 유효슈팅(SOT) : 슈팅 중 골대를 향한 슈팅 (GK전방, 골대(bar, post)맞음, 기타유효슈팅)

· 블락된 슈팅 : 상대 수비수에게 막힌 슈팅

· 벗어난 슈팅 : 골대 밖으로 벗어난 슈팅

· PA내슈팅 : PA(페널티 에어리어) 내에서 기록한 슈팅

· PA외슈팅 : PA(페널티 에어리어) 외에서 기록한 슈팅

· 프리킥 슈팅 : 프리킥을 곧바로 시도한 슈팅

· 프리킥 유효슈팅 : 프리킥을 곧바로 시도한 슈팅 중 골대를 향한 슈팅 

· 프리킥 크로스 : 프리킥을 곧바로 시도한 크로스

· 코너킥 : 축구 규칙에 따른 코너킥

· 스로인 : 축구 규칙에 따른 스로인

· 드리블 : 혼자 공을 가지고 상대 선수를 돌파하는 행위

--- 패스 ---

· 패스 : 공을 가진 선수가 상대편 선수를 돌파해내려고 시도하는 모든 행위

· 키패스 : 슈팅으로 연결된 마지막 패스

· 전방패스 : 상대 진영쪽으로 향한 패스

· 후방패스 : 자기측 진영쪽으로 향한 패스

· 횡패스 : 패스 방향이 좌우 측면 120도 범위 내로 향한 패스

· 공격진영패스 : 상대 진영에 도달한 패스

· 수비진영패스 : 우리 진영으로 도달한 패스

· 중원지역패스 : 전체 경기장을 3등분 했을 때, 중원진영에서 시작된 패스

· 롱패스 : 패스 거리가 30미터 이상인 패스

· 중거리패스 : 패스 거리가 15미터 이상 30미터 미만의 패스

· 숏패스 : 패스 거리가 15미터 미만의 패스

· 크로스 : 상대팀 진영에서 페널티 박스로 길게 띄워주는 패스 (프리킥, 코너킥 포함)

· 탈압박 : 공을 소유한 선수가 상대 선수의 압박에서 벗어나 소유권을 계속 유지하는 행위

--- 수비 ---

· 경합(지상) : 지상에서 상대방과 볼의 소유권을 경합하는 행위

· 경합(공중) : 공중에서 상대방과 볼의 소유권을 경합하는 행위

· 태클 : 몸을 사용하여 상대 공격을 저지하는 수비 기술, 스탠딩태클과 슬라이딩태클 모두를 포함

· 클리어링 : 상대가 공격중인 상황에서 볼을 걷어내는 행위

· 인터셉트 : 상대방의 공을 가로채어 볼 소유권을 획득하는 행위

· 차단 : 상대 선수가 소유한 볼이나 패스를 막아 루즈볼로 만드는 수비 행위

· 획득 : 루즈볼이 된 공의 소유권을 가져오는 행위

· 블락 : 필드, 플레이어가 상대 슈팅을 막아내는 수비 행위

· 볼미스 : 본인의 실수로 공 소유권을 잃어버리는 행위

· 파울(FO) : FC(foul committed : 파울 함), FS(foul suffered : 파울 당함)

· 피파울 : 상대 선수로부터 파울을 당하여 프리킥 또는 페널티킥을 얻은 경우

· 경고 : 옐로우 카드의 수

· 퇴장 : 엘로우 카드를 두번 받아 퇴장 또는 바로 레드카드를 얻은 경우

--- 트랜스퍼마켓 ---

· 소속 선수 수 : 구단에 소속된 총 선수의 수

· 평균 나이 : 구단에 소속된 선수들의 평균 나이

· 용병 수 : 구단에 소속된 외국인 용병 선수들의 수

· 평균 가치 : 구단 선수들의 평균 가치

· 총 가치 : 구단 선수들 가치의 총합


</details>
</p>



`Data-preprocessing.ipynb` 

수집한 데이터를 필요에 맞게 전처리했음.

간단한 기술통계도 포함.

만든 데이터 프레임 구성을 변경하는 코드까지 포함. 

1개의 경기 정보를 2개의 행으로 구성했었으나, 1개의 행으로 구성되게 바꿈(열 방향으로 합침)

이렇게 데이터 프레임 구성을 변경하고 정확도가 30%가량 증가.


`Data-visualization.ipynb`

학습 전, 중요하다고 생각 드는 변수들에 대해 시각화를 해보았음.

21~23 시즌동안 K-league1에 참여한 팀과 경기수, 팀별 승리/패배 수, 평균 득점 수, 평균 구단 가치, 팀별 슈팅 수 등

`MakeTestDF.ipynb`

첫 데이터 수집때 데이터를 수집하지 못했던 36,37 라운드 데이터를 전처리해서 저장하는 코드.

`Predict.ipynb`

학습한 모델을 바향으로 36,37라운드에 대해 예측을 진행하는 코드.

변수 선택법 전/후의 정확도를 비교했음.

`Train2.ipynb`

수정한 데이터프레임으로 11개 모델에 대해 학습.

변수 선택법 전/후의 정확도를 비교했음.

`K-League-data.csv`

데이터 프레임 구조 변경 전 데이터.

`K-League-data2.csv`

데이터 프레임 구조 변경 후 데이터.

`K-League-Test3536.csv`

MakeTestDF로 만든 예측에 사용할 데이터.